@model List<Skill>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Admin/Index.cshtml";
}

<main class="flex-1 flex flex-col h-full overflow-hidden relative bg-background-dark">
    <div class="absolute top-[-20%] right-[-10%] w-[500px] h-[500px] bg-accent-blue/5 rounded-full blur-[100px] pointer-events-none"></div>
    <div class="absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] bg-accent-purple/5 rounded-full blur-[100px] pointer-events-none"></div>
    <header class="flex items-center justify-between px-8 py-6 z-10 border-b border-white/5 bg-background-dark/80 backdrop-blur-sm">
        <div>
            <h2 class="text-2xl font-bold text-white tracking-tight">Yetenekler</h2>
            <p class="text-text-muted text-sm mt-1">
                Yeteneklerin listelendiği, eklendiği ve düzenlendiği yönetim alanı.
            </p>

        </div>
        <div class="flex items-center gap-4">
            <a href="/Skill/CreateSkill/" class="flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-accent hover:opacity-90 text-white font-bold text-sm transition-all shadow-lg shadow-accent-purple/20 active:scale-95">
                <span class="material-symbols-outlined text-[20px]">add_reaction</span>
                Yeni Yetenek Ekle
            </a>
        </div>
    </header>
    <div class="flex-1 overflow-y-auto p-8 pt-6 pb-20 scroll-smooth relative z-0">
        <div class="max-w-7xl mx-auto space-y-8">
            <div class="grid grid-cols-1 gap-6">
                <div class="bg-card-dark rounded-xl border border-white/5 shadow-xl overflow-hidden">

                    <div class="p-6 border-b border-white/5 flex justify-between items-center bg-white/[0.02]">
                        <h3 class="text-lg font-bold text-white">Yetenek Tablosu</h3>
                    </div>

                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="text-xs text-gray-500 border-b border-white/5 bg-black/20">
                                    <th class="px-6 py-4 font-medium uppercase tracking-wider">Başlık</th>
                                    <th class="px-6 py-4 font-medium uppercase tracking-wider">Seviye</th>
                                    <th class="px-6 py-4 font-medium uppercase tracking-wider">Sil</th>
                                    <th class="px-6 py-4 font-medium uppercase tracking-wider">Güncelle</th>
                                </tr>
                            </thead>

                            <tbody class="text-sm">
                                @foreach (var item in Model)
                                {
                                    var value = item.SkillValue < 0 ? 0 :
                                    item.SkillValue > 100 ? 100 :
                                    item.SkillValue;

                                    <tr class="group hover:bg-white/[0.02] transition-colors border-b border-white/5 last:border-0">

                                        <td class="px-6 py-4 font-medium text-white">
                                            @item.SkillTitle
                                        </td>
                                        <td class="px-6 py-4">
                                            <div class="flex flex-col gap-2 min-w-[180px]">

                                                <div class="flex justify-between items-center text-xs">
                                                    <span class="text-gray-400">Seviye</span>
                                                    <span class="font-semibold text-white">% @value</span>
                                                </div>

                                                <div class="w-full h-2 rounded-full bg-white/10 overflow-hidden">
                                                    <div class="h-full rounded-full transition-all duration-500
                                                                @(value < 30 ? "bg-red-500" : value < 50 ? "bg-yellow-500" : value < 70 ? "bg-green-500" : value < 90 ? "bg-blue-500" : "bg-purple-500")"
                                                         style="width:@value%">
                                                    </div>
                                                </div>

                                            </div>
                                        </td>

                                        <td class="px-6 py-4">
                                            <a href="/Skill/DeleteSkill/@item.SkillId"
                                               class="inline-flex items-center px-4 py-2 text-sm font-medium
                                                      text-red-400 border border-red-500/50 rounded-lg
                                                      hover:bg-red-500/10 hover:text-red-300 transition">
                                                Sil
                                            </a>
                                        </td>

                                        <td class="px-6 py-4">
                                            <a href="/Skill/UpdateSkill/@item.SkillId"
                                               class="inline-flex items-center px-4 py-2 text-sm font-medium
                                                      text-purple-400 border border-purple-500/50 rounded-lg
                                                      hover:bg-purple-500/10 hover:text-purple-300 transition">
                                                Güncelle
                                            </a>
                                        </td>

                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="max-w-7xl mx-auto mt-8 border-t border-white/5 pt-6
                flex flex-col md:flex-row justify-between items-center
                gap-4 text-xs text-gray-500">
            <p>© 2026 Tunahan Cengiz Admin. All rights reserved.</p>
            <div class="flex gap-4">
                <a class="hover:text-accent-blue transition-colors" href="#">Privacy Policy</a>
                <a class="hover:text-accent-blue transition-colors" href="#">Terms of Service</a>
            </div>
        </div>
    </div>

</main>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const value = '@TempData["Delete"]';
        if (value) {
            Swal.fire({
                title: value,
                icon: 'success',
                confirmButtonText: 'Tamam',
                background: '#151022',
                color: '#ffffff',
                confirmButtonColor: '#5b2bee'
            });
        }
    });
</script>