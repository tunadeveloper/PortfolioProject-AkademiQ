@model Skill
@{
    ViewData["Title"] = "UpdateSkill";
    Layout = "~/Views/Admin/Index.cshtml";
}

<div class="flex-1 flex items-center justify-center overflow-y-auto p-8">

    <div class="w-full max-w-3xl">
        <div class="bg-card-dark rounded-xl border border-white/5 shadow-xl overflow-hidden">
            <div class="p-6 border-b border-white/5 bg-white/[0.02] text-center">
                <h2 class="text-xl font-bold text-white">Yetenek Güncelle</h2>
                <p class="text-sm text-gray-400 mt-1">
                    Yetenek adını girin ve seviyesini seçin
                </p>
            </div>
            <form method="post" class="p-6 space-y-6">
                <input type="hidden" name="SkillId" value="@Model.SkillId" />
                <div class="space-y-2">
                    <label class="text-sm font-medium text-gray-300">
                        Yetenek Adı
                    </label>
                    <input type="text"
                           name="SkillTitle"
                           required
                           placeholder="Örn: ASP.NET Core"
                           value="@Model.SkillTitle"
                           class="w-full px-4 py-3 rounded-lg
                                  bg-black/30 border border-white/10
                                  text-white placeholder-gray-500
                                  focus:outline-none focus:ring-2 focus:ring-purple-500/40" />
                </div>
                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium text-gray-300">
                            Yetenek Seviyesi
                        </label>
                        <span id="skillValueText"
                              class="text-sm font-semibold text-white">
                            %@Model.SkillValue
                        </span>
                    </div>
                    <input type="range"
                           name="SkillValue"
                           min="0"
                           max="100"
                           value="@Model.SkillValue"
                           class="w-full cursor-pointer accent-purple-500"
                           oninput="updateSkillValue(this.value)" />

                    <p class="text-xs text-gray-500">
                        0–100 arası bir değer seçin
                    </p>
                </div>
                <div class="flex justify-end gap-4 pt-4 border-t border-white/5">

                    <a href="/Skill/Index"
                       class="px-5 py-2.5 rounded-lg text-sm font-medium
                              text-gray-400 border border-white/10
                              hover:bg-white/5 transition">
                        Vazgeç
                    </a>

                    <button type="submit"
                            class="px-5 py-2.5 rounded-lg text-sm font-medium
                                   text-white bg-purple-600/90
                                   hover:bg-purple-600 transition">
                        Kaydet
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>

<script>
    function updateSkillValue(value) {
        const progress = document.getElementById("skillProgress");
        const text = document.getElementById("skillValueText");

        text.innerText = `%${value}`;
        progress.style.width = value + "%";

        if (value < 30) {
            progress.className = "h-full rounded-full transition-all duration-300 bg-red-500";
        } else if (value < 50) {
            progress.className = "h-full rounded-full transition-all duration-300 bg-yellow-500";
             } else if (value < 70) {
            progress.className = "h-full rounded-full transition-all duration-300 bg-green-500";
              } else if (value < 90) {
            progress.className = "h-full rounded-full transition-all duration-300 bg-blue-500";
        } else {
            progress.className = "h-full rounded-full transition-all duration-300 bg-purple-500";
        }
    }
</script>
